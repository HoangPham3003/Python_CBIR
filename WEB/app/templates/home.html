<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CBIR</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='boostrap/bootstrap-5.1.3-dist/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='boostrap/bootstrap-icons-1.9.1/bootstrap-icons.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">

</head>
<body>
    <div class="p-3 bg-dark text-secondary fst-italic">
        <div>
            <div class="text-center fw-bold ">
                PHAM HUY HOANG - B18DCCN245
            </div>
        </div>
    </div>
    <h1 class="text-center py-5 text-dark fw-bold">Content-based Image Retrieval</h1>
    <input type="file" id="myUploadImage" name="myUploadImage" accept="image/*" onchange="loadFile(event)"/>
    
    <div class="upload mb-5" id="uploadview">
        <div class="upload-section" id="dropContainer">
            <label class="btn-upload" for="myUploadImage">
                <i class="bi bi-upload fw-bold"></i> &nbsp&nbsp UPLOAD IMAGE 
            </label>
            <p>or Drag and Drop image</p>
        </div>
        <p class="error" id="err">
            ⚠️ Can not upload this file!
        </p>
    </div>

    <div id="result" class="text-center">
        <h4 class="fw-bold mb-4"> QUERY IMAGE </h4>
        <img class="img-upload shadow-lg p-1 mb-3 mx-2 bg-body rounded" id="showUploadImage" />
    </div>

    <div class="d-flex justify-content-center text-primary d-none" id="spinner">
        <p class="fw-bold">Searching... &nbsp</p>
        <div class="spinner-border" role="status">
        </div>
    </div>

    <div id="grid_nearest_image" class="container mt-5 text-center d-none">
        <h4 class="fw-bold mb-1">RETRIEVAL RESULT </h4>
        <h5 class="fw-bold">Precision: 
            <span id="precision" class="text-danger">
            </span>
            <div class="d-flex justify-content-center text-danger d-none m-1" id="spinner_rf">
                <div class="spinner-border" role="status">
                </div>
            </div>
        </h5>
        <button type="button" class="btn btn-success mb-4" onclick="relevance_feedback()">RELEVANCE FEEDBACK</button>
        <div id="show_result_area" class="row text-center justify-content-center mb-4">
        </div>
    </div>

    <footer class="p-2 bg-dark text-secondary fst-italic">
        <div>
            <div class="text-center fw-bold">
                PHAM HUY HOANG - B18DCCN245
            </div>
        </div>
    </footer>

    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="bi bi-chevron-up"></i></button>

    <script src="{{ url_for('static', filename='boostrap/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/home.js') }}"></script>
</body>
</html>